shortcut={all_shortcuts:{},add:function(e,t,i){var n={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(i)for(var o in n)"undefined"==typeof i[o]&&(i[o]=n[o]);else i=n;var a=i.target;"string"==typeof i.target&&(a=document.getElementById(i.target)),e=e.toLowerCase();var s=function(n){if(n=n||window.event,i.disable_in_input){var o;if(n.target?o=n.target:n.srcElement&&(o=n.srcElement),3==o.nodeType&&(o=o.parentNode),"INPUT"==o.tagName||"TEXTAREA"==o.tagName)return}n.keyCode?code=n.keyCode:n.which&&(code=n.which);var a=String.fromCharCode(code).toLowerCase();188==code&&(a=","),190==code&&(a=".");var s=e.split("+"),r=0,l={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},c={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},d={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};n.ctrlKey&&(d.ctrl.pressed=!0),n.shiftKey&&(d.shift.pressed=!0),n.altKey&&(d.alt.pressed=!0),n.metaKey&&(d.meta.pressed=!0);for(var u=0;k=s[u],u<s.length;u++)"ctrl"==k||"control"==k?(r++,d.ctrl.wanted=!0):"shift"==k?(r++,d.shift.wanted=!0):"alt"==k?(r++,d.alt.wanted=!0):"meta"==k?(r++,d.meta.wanted=!0):k.length>1?c[k]==code&&r++:i.keycode?i.keycode==code&&r++:a==k?r++:l[a]&&n.shiftKey&&(a=l[a],a==k&&r++);return r!=s.length||d.ctrl.pressed!=d.ctrl.wanted||d.shift.pressed!=d.shift.wanted||d.alt.pressed!=d.alt.wanted||d.meta.pressed!=d.meta.wanted||(t(n),i.propagate)?void 0:(n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation&&(n.stopPropagation(),n.preventDefault()),!1)};this.all_shortcuts[e]={callback:s,target:a,event:i.type},a.addEventListener?a.addEventListener(i.type,s,!1):a.attachEvent?a.attachEvent("on"+i.type,s):a["on"+i.type]=s},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],t){var i=t.event,n=t.target,o=t.callback;n.detachEvent?n.detachEvent("on"+i,o):n.removeEventListener?n.removeEventListener(i,o,!1):n["on"+i]=!1}}};var scriptEls=document.getElementsByTagName("script"),thisScriptEl=scriptEls[scriptEls.length-1],scriptPath=thisScriptEl.src,noteDirectory=scriptPath.substr(0,scriptPath.lastIndexOf("/")+1),noteCss=document.createElement("link");noteCss.rel="stylesheet",noteCss.type="text/css",noteCss.href=noteDirectory+"note.css",noteCss.media="all",$("head").append(noteCss);var filePath=location.protocol+"//"+location.host+location.pathname,fileName=filePath.replace(/^.*[\\\/]/,""),setCookie=function(e,t){var i=new Date;i.setTime(i.getTime()+36e5);var n="; expires="+i.toGMTString();document.cookie=e+"="+t+n+"; path=/"};$(document).ready(function(){var e={response:"print"};$.ajax({url:noteDirectory+"config.php",type:"POST",data:e,success:function(e){if("false"!==e)$.getScript(noteDirectory+"main.js",function(){}).fail(function(e,t){console.log(t)});else{var t=function(){0==$("#note-shadow").length?($("<div id='note-shadow'></div>").appendTo("body").fadeIn(300).click(function(){$("#note-shadow").delay(400).fadeOut(300,function(){$(this).remove()}),$("#note-login").fadeOut(300,function(){$(this).remove()})}),$("<div id='note-login'></div>").appendTo("body").delay(400).fadeIn(300),$("<h1>Note CMS Login</h1>").appendTo("#note-login"),$("<input id='username'>").val("Username").appendTo("#note-login").blur(function(){""==this.value&&(this.value="Username")}).focus(function(){"Username"==this.value&&(this.value="")}),$("<input id='password'>").val("Password").appendTo("#note-login").blur(function(){""==this.value&&(this.value="Password",this.type="text")}).focus(function(){"Password"==this.value&&(this.value="",this.type="password")}),$("<button></button>").appendTo("#note-login").html("Sign In").click(function(){var e={response:"print",pass:$("#note-login input#password").val(),user:$("#note-login input#username").val()};$.ajax({url:noteDirectory+"config.php",type:"POST",data:e,success:function(t){if("true"==t)$.getScript(noteDirectory+"main.js",function(){setTimeout(function(){callNote()},600)}).fail(function(e,t){console.log(t)}),$("#note-shadow").delay(400).fadeOut(300,function(){$(this).remove()}),$("#note-login").fadeOut(300,function(){$(this).remove()}),setCookie("notecmsuser",e.user),setCookie("notecmspass",e.pass);else for(var i=20,n=0;6>n;n++)$("#note-login").animate({"margin-left":"+="+(i=-i)+"px"},80)}})})):($("#note-shadow").delay(400).fadeOut(300,function(){$(this).remove()}),$("#note-login").fadeOut(300,function(){$(this).remove()}))};shortcut.add("Meta+E",function(){t()}),shortcut.add("Ctrl+E",function(){t()})}}})});